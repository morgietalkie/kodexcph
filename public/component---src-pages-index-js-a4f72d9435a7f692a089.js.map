{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["IndexPage","data","title","sanityPages","seo","seo_title","description","meta_description","id","className","allSanityProjects","edges","map","edge","i","to","node","slug","current","key","alt","fluid","mainImage","asset","onLoad","detectScroll","this","firstcln","event","window","innerWidth","document","querySelector","addEventListener","scrolled","deltaY","removeEventListener","querySelectorAll","forEach","image","console","log","slideWrapper","firstScroll","firstChild","style","transition","link","opacity","children","marginLeft","cloneNode","appendChild","setTimeout","parentNode","removeChild","nextSlide"],"mappings":"qNAkGeA,UAtFG,WAChB,IAAMC,EAAI,OAqCV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,MAAOD,EAAKE,YAAYC,IAAIC,UAC5BC,YAAaL,EAAKE,YAAYC,IAAIG,mBAEpC,6BAASC,GAAG,SACV,kBAAC,IAAD,MAEA,qCAEA,yBAAKC,UAAU,sCACZR,EAAKS,kBAAkBC,MAAMC,KAAI,SAAUC,EAAMC,GAChD,OACE,kBAAC,OAAD,CAAML,UAAU,gBAAgBM,GAAIF,EAAKG,KAAKC,KAAKC,SACjD,yBAAKT,UAAU,UAAUU,IAAKL,GAC5B,wBAAIL,UAAU,gBAAgBU,IAAKL,GAChCD,EAAKG,KAAKd,OAEb,kBAAC,IAAD,CACEkB,IAAG,YAAcP,EAAKG,KAAKd,MAC3BO,UAAU,gBACVU,IAAKL,EACLO,MAAOR,EAAKG,KAAKM,UAAUC,MAAMF,MACjCG,OAAQC,EAAaC,QAEvB,yBAAKjB,UAAU,kCAGjB,yBAAKA,UAAU,mBACb,0BAAMA,UAAU,cAAhB,IAA+BI,EAAKG,KAAKd,OACzC,0BAAMO,UAAU,cAAhB,IAA+BI,EAAKG,KAAKd,OACzC,0BAAMO,UAAU,cAAhB,IAA+BI,EAAKG,KAAKd,OACzC,0BAAMO,UAAU,cAAhB,IAA+BI,EAAKG,KAAKd,gBAgB3D,IAEIyB,EAAW,GAMf,SAASF,EAAaG,GAChBC,OAAOC,WAAa,MACtBC,SAASC,cAAc,QAAQC,iBAAiB,QAASC,GAI7D,SAASA,EAASN,GACZA,EAAMO,OAAS,IACjBJ,SAASC,cAAc,QAAQI,oBAAoB,QAASF,GAC5DH,SAASM,iBAAiB,iBAAiBC,SAAQ,SAACC,GAClDA,EAAMf,OAAS,QAGjBgB,QAAQC,IAAIb,GAKhB,WACE,IAAIc,EAAeX,SAASC,cAAc,8BAC1CQ,QAAQC,IAAIC,GACZ,IAAIC,EAAcD,EAAaE,WAE/BF,EAAaG,MAAMC,WAAa,OAEhCf,SAASM,iBAAiB,kBAAkBC,SAAQ,SAACS,GACnDA,EAAKf,cAAc,iCAAiCa,MAAMG,QAAU,IACpED,EAAKf,cAAc,MAAMa,MAAMG,QAAU,IACzCD,EAAKf,cAAc,oBAAoBa,MAAMG,QAAU,OAGzDN,EAAaO,SAAS,GAAGjB,cACvB,iCACAa,MAAMG,QAAU,IAClBN,EAAaO,SAAS,GAAGjB,cAAc,MAAMa,MAAMG,QAAU,IAC7DN,EAAaO,SAAS,GAAGjB,cAAc,oBAAoBa,MAAMG,QAAU,IAC3EN,EAAaG,MAAMK,WAAa,SAChCvB,EAAWgB,EAAYQ,WAAU,GACjCT,EAAaU,YAAYzB,GAEzB0B,YAAW,WACTX,EAAaG,MAAMC,WAAa,KAChCJ,EAAaG,MAAMK,WAAa,IAChCP,EAAYW,WAAWC,YAAYZ,GACnClB,MACC,MA/BD+B,M","file":"component---src-pages-index-js-a4f72d9435a7f692a089.js","sourcesContent":["import React from \"react\"\n// import { Link } from \"gatsby\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Logo from \"../images/assets/logo.svg\"\nimport { func } from \"prop-types\"\n// import RewriteMarkdown from \"../components/RewriteMarkdown\"\n\nconst IndexPage = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allSanityProjects(sort: { fields: publishedAt, order: DESC }) {\n        edges {\n          node {\n            seo {\n              meta_description\n            }\n            _id\n            title\n            slug {\n              current\n            }\n            mainImage {\n              asset {\n                fluid {\n                  ...GatsbySanityImageFluid\n                }\n              }\n            }\n          }\n        }\n      }\n      sanityPages(_id: { eq: \"db68df85-d952-4844-a8ea-b0b72ae8f3c7\" }) {\n        seo {\n          _type\n          focus_keyword\n          seo_title\n          meta_description\n          _key\n        }\n        title\n        _id\n      }\n    }\n  `)\n\n  return (\n    <Layout>\n      <SEO\n        title={data.sanityPages.seo.seo_title}\n        description={data.sanityPages.seo.meta_description}\n      />\n      <section id=\"index\">\n        <Logo />\n\n        <h1>Kodex</h1>\n\n        <div className=\"horizontal-scroll-wrapper squares \">\n          {data.allSanityProjects.edges.map(function (edge, i) {\n            return (\n              <Link className=\"link_wrappers\" to={edge.node.slug.current}>\n                <div className=\"scrolls\" key={i}>\n                  <h2 className=\"project_title\" key={i}>\n                    {edge.node.title}\n                  </h2>\n                  <Img\n                    alt={`Project: ${edge.node.title}`}\n                    className=\"project_image\"\n                    key={i}\n                    fluid={edge.node.mainImage.asset.fluid}\n                    onLoad={detectScroll(this)}\n                  />\n                  <div className=\"gatsby-image-wrapper-overlay\"></div>\n                </div>\n\n                <div className=\"additional_text\">\n                  <span className=\"span_title\"> {edge.node.title}</span>\n                  <span className=\"span_title\"> {edge.node.title}</span>\n                  <span className=\"span_title\"> {edge.node.title}</span>\n                  <span className=\"span_title\"> {edge.node.title}</span>\n                </div>\n              </Link>\n            )\n          })}\n\n          {/* <div className=\"getInTouch\">\n            <p></p>\n          </div> */}\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default IndexPage\nlet allClients = []\nlet firstClient = \"\"\nlet firstcln = \"\"\nlet lastClient = \"\"\nlet lastcln = \"\"\n\nlet scrollBolean = false\n\nfunction detectScroll(event) {\n  if (window.innerWidth > 1024) {\n    document.querySelector(\"body\").addEventListener(\"wheel\", scrolled)\n  }\n}\n\nfunction scrolled(event) {\n  if (event.deltaY > 0) {\n    document.querySelector(\"body\").removeEventListener(\"wheel\", scrolled)\n    document.querySelectorAll(\"project_image\").forEach((image) => {\n      image.onLoad = null\n    })\n\n    console.log(event)\n    nextSlide()\n  }\n}\n\nfunction nextSlide() {\n  let slideWrapper = document.querySelector(\".horizontal-scroll-wrapper\")\n  console.log(slideWrapper)\n  let firstScroll = slideWrapper.firstChild\n\n  slideWrapper.style.transition = \"0.8s\"\n\n  document.querySelectorAll(\".link_wrappers\").forEach((link) => {\n    link.querySelector(\".gatsby-image-wrapper-overlay\").style.opacity = \"1\"\n    link.querySelector(\"h2\").style.opacity = \"0\"\n    link.querySelector(\".additional_text\").style.opacity = \"0\"\n  })\n\n  slideWrapper.children[1].querySelector(\n    \".gatsby-image-wrapper-overlay\"\n  ).style.opacity = \"0\"\n  slideWrapper.children[1].querySelector(\"h2\").style.opacity = \"1\"\n  slideWrapper.children[1].querySelector(\".additional_text\").style.opacity = \"1\"\n  slideWrapper.style.marginLeft = \"-600px\"\n  firstcln = firstScroll.cloneNode(true)\n  slideWrapper.appendChild(firstcln)\n\n  setTimeout(() => {\n    slideWrapper.style.transition = \"0s\"\n    slideWrapper.style.marginLeft = \"0\"\n    firstScroll.parentNode.removeChild(firstScroll)\n    detectScroll()\n  }, 1500)\n}\n"],"sourceRoot":""}