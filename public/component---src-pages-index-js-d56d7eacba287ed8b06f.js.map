{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["initiateAnimations","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","intersectionRatio","target","classList","add","threshold","document","querySelectorAll","animation","observe","IndexPage","data","title","sanityPages","seo","seo_title","description","meta_description","id","className","allSanityProjects","edges","map","edge","i","to","node","slug","current","key","alt","fluid","mainImage","asset","onLoad"],"mappings":"gsaAsFA,SAASA,IAKP,IAcMC,EAAW,IAAIC,sBAdE,SAACC,EAASF,GAC/BE,EAAQC,SAAQ,SAAAC,GAEVA,EAAMC,gBAAkBD,EAAME,mBAAqB,GACrDF,EAAMG,OAAOC,UAAUC,IAAI,2BAOjB,CACdC,UAAW,KAKMC,SAASC,iBAAiB,cAClCT,SAAQ,SAAAU,GACjBb,EAASc,QAAQD,MA1BNE,UAzEG,WAChB,IAAMC,EAAI,OAkCV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,MAAOD,EAAKE,YAAYC,IAAIC,UAC5BC,YAAaL,EAAKE,YAAYC,IAAIG,mBAEpC,6BAASC,GAAG,SACV,kBAAC,IAAD,MACA,qCACA,mEAEA,yBAAKC,UAAU,sCACZR,EAAKS,kBAAkBC,MAAMC,KAAI,SAASC,EAAMC,GAC/C,OACE,kBAAC,OAAD,CAAMC,GAAIF,EAAKG,KAAKC,KAAKC,SACvB,yBAAKT,UAAU,wCAAwCU,IAAKL,GAC1D,kBAAC,IAAD,CACEM,IAAG,YAAcP,EAAKG,KAAKd,MAC3BO,UAAU,mBACVU,IAAKL,EACLO,MAAOR,EAAKG,KAAKM,UAAUC,MAAMF,MACjCG,OAAQxC,IAEV,wBAAImC,IAAKL,GAAID,EAAKG,KAAKd","file":"component---src-pages-index-js-d56d7eacba287ed8b06f.js","sourcesContent":["import React from \"react\"\n// import { Link } from \"gatsby\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Logo from \"../images/assets/logo.svg\"\n// import RewriteMarkdown from \"../components/RewriteMarkdown\"\n\nconst IndexPage = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allSanityProjects(sort: { fields: publishedAt, order: DESC }) {\n        edges {\n          node {\n            _id\n            title\n            slug {\n              current\n            }\n            mainImage {\n              asset {\n                fluid {\n                  ...GatsbySanityImageFluid\n                }\n              }\n            }\n          }\n        }\n      }\n      sanityPages(_id: { eq: \"db68df85-d952-4844-a8ea-b0b72ae8f3c7\" }) {\n        seo {\n          _type\n          focus_keyword\n          seo_title\n          meta_description\n          _key\n        }\n        title\n        _id\n      }\n    }\n  `)\n\n  return (\n    <Layout>\n      <SEO\n        title={data.sanityPages.seo.seo_title}\n        description={data.sanityPages.seo.meta_description}\n      />\n      <section id=\"index\">\n        <Logo />\n        <h1>Kodex</h1>\n        <h2>Modern webistes with a nordic touch</h2>\n\n        <div className=\"horizontal-scroll-wrapper squares \">\n          {data.allSanityProjects.edges.map(function(edge, i) {\n            return (\n              <Link to={edge.node.slug.current}>\n                <div className=\"scrolls animation  animation--fade-in\" key={i}>\n                  <Img\n                    alt={`Project: ${edge.node.title}`}\n                    className=\"img-hover-effect\"\n                    key={i}\n                    fluid={edge.node.mainImage.asset.fluid}\n                    onLoad={initiateAnimations}\n                  />\n                  <h3 key={i}>{edge.node.title}</h3>\n                </div>\n              </Link>\n            )\n          })}\n\n          {/* <div className=\"getInTouch\">\n            <p></p>\n          </div> */}\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n\nfunction initiateAnimations() {\n  // allChildrenElements.classList.add(\"animation\")\n  // allChildrenElements.classList.add(\"animation--fade-up\")\n\n  // callback function to do animations\n  const scrollImations = (entries, observer) => {\n    entries.forEach(entry => {\n      // only do animation if the element is fully on screen\n      if (entry.isIntersecting && entry.intersectionRatio >= 0) {\n        entry.target.classList.add(\"animation--visible\")\n      } else {\n      }\n    })\n  }\n\n  // create the observer\n  const options = {\n    threshold: 0.2,\n  }\n  const observer = new IntersectionObserver(scrollImations, options)\n\n  // target the elements to be observed\n  const animations = document.querySelectorAll(\".animation\")\n  animations.forEach(animation => {\n    observer.observe(animation)\n  })\n}\n\nfunction scrollFunctionImage() {\n  if (document.body.scrollTop > 1 || document.documentElement.scrollTop > 1) {\n    console.log(document.querySelector(\".postImage\"))\n\n    document.querySelector(\".postImage\").classList.add(\"scaledIMG\")\n  } else {\n    document.querySelector(\".postImage\").classList.remove(\"scaledIMG\")\n  }\n}\n"],"sourceRoot":""}